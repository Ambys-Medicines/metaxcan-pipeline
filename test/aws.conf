// cromwell.conf
include required(classpath("application"))

webservice {
    interface = localhost
    port = 8000
}

aws {
  application-name = "cromwell"
  auths = [{
      name = "default"
      scheme = "default"
  }]
  region = "us-east-1"
}

engine {
  filesystems {
    s3 { auth = "default" }
  }
}

backend {
  default = "AWSBATCH"
  providers {
    AWSBATCH {
      actor-factory = "cromwell.backend.impl.aws.AwsBatchBackendLifecycleActorFactory"
      config {
        root = "s3://rti-cromwell-output/cromwell-execution"
        auth = "default"

        numSubmitAttempts = 3
        numCreateDefinitionAttempts = 3

        concurrent-job-limit = 16

        default-runtime-attributes {
          queueArn: "arn:aws:batch:us-east-1:404545384114:job-queue/GenomicsDefaultQueue-1db2c9acb5d9fec"
        }

        filesystems {
          s3 {
            auth = "default"
          }
        }
      }
    }
  }
}